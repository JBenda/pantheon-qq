--- indicator-cpufreq-0.1.4.orig/indicator_cpufreq/indicator.py	2014-05-13 23:13:55.621383307 +0900
+++ indicator-cpufreq-0.1.4/indicator_cpufreq/indicator.py	2014-05-15 19:41:01.262006633 +0900
@@ -94,6 +94,17 @@
             menu_item.connect('activate', self.select_activated, 'governor', governor)
             self.select_items[governor] = menu_item
 
+        menu.append(Gtk.SeparatorMenuItem())
+
+        # throttle menu items
+        throttles = ['full', 'cut']
+        for throttle in throttles:
+            menu_item = Gtk.RadioMenuItem.new_with_label(group, throttle)
+            group = menu_item.get_group()
+            menu.append(menu_item)
+            menu_item.connect('activate', self.select_activated, 'throttle', throttle)
+            self.select_items[throttle] = menu_item
+
         menu.show_all()        
         self.ind.set_menu(menu)
         self.update_ui()
@@ -110,6 +121,8 @@
         fmin, fmax, governor = cpufreq.get_policy(self.cpus[0])
         # use the highest freq among cores for display
         freq = max([cpufreq.get_freq_kernel(cpu) for cpu in self.cpus])
+
+        #throttle = 'cut'
         
         ratio = min([25, 50, 75, 100], key=lambda x: abs((fmax - fmin) * x / 100.0 - (freq - fmin)))
         if freq < fmax and ratio == 100:
@@ -123,7 +136,9 @@
             self.select_items[freq].set_active(True)
         else:
             self.select_items[governor].set_active(True)
-        
+
+        #self.select_items[throttle].set_active(True)
+
         for i in self.select_items.values():
             i.handler_unblock_by_func(self.select_activated)
        
@@ -137,6 +152,9 @@
             if select == 'frequency':
                 proxy.SetFrequency(cpus, dbus.UInt32(value),
                     dbus_interface='com.ubuntu.IndicatorCpufreqSelector')
+            elif select == 'throttle':
+                proxy.SetThrottle(value,
+                    dbus_interface='com.ubuntu.IndicatorCpufreqSelector')
             else:
                 proxy.SetGovernor(cpus, value,
                     dbus_interface='com.ubuntu.IndicatorCpufreqSelector')
